# KRadio24 기능 명세서

## 🎵 핵심 기능 상세

### 1. 라디오 재생 기능

#### 1.1 기본 재생 컨트롤
- **재생/일시정지**: 탭으로 간단하게 전환
- **정지**: 완전히 스트림 종료
- **볼륨 조절**: 슬라이더로 0-100% 조절
- **재생 상태**: 로딩/재생중/일시정지/에러 표시

#### 1.2 스트리밍 처리
- **지원 포맷**: MP3, AAC, HLS 스트림
- **버퍼링**: 자동 버퍼링 관리
- **에러 복구**: 네트워크 끊김 시 자동 재연결
- **품질 표시**: 비트레이트 정보 표시

### 2. 라디오 스테이션 관리

#### 2.1 스테이션 데이터 구조
```typescript
interface RadioStation {
  id: string;
  name: string;
  streamUrl: string;
  genre: string[];
  country: string;
  language: string;
  logoUrl?: string;
  description?: string;
  website?: string;
  bitrate?: number;
  isFavorite: boolean;
  addedAt: Date;
  lastPlayedAt?: Date;
}
```

#### 2.2 스테이션 CRUD
- **추가**: 수동 입력 또는 URL 파싱
- **편집**: 이름, 장르, 로고 수정
- **삭제**: 스와이프 또는 편집 모드에서 삭제
- **중복 체크**: 동일 URL 방지

#### 2.3 스테이션 탐색
- **검색**: 이름, 장르, 국가로 검색
- **필터**: 장르별, 국가별, 언어별
- **정렬**: 이름순, 최근 재생순, 추가일순

### 3. 플레이리스트

#### 3.1 플레이리스트 관리
- **생성**: 사용자 정의 플레이리스트
- **편집**: 이름 변경, 순서 조정
- **삭제**: 플레이리스트 삭제 (스테이션은 유지)
- **공유**: 플레이리스트 내보내기/가져오기

#### 3.2 특수 플레이리스트
- **즐겨찾기**: 자동 생성, 스타 표시한 스테이션
- **최근 재생**: 자동 생성, 최대 50개
- **추천**: 자주 듣는 장르 기반 (선택사항)

### 4. UI/UX

#### 4.1 홈 화면
- 현재 재생 중인 스테이션 (크게)
- 즐겨찾기 빠른 접근
- 최근 재생 목록
- 장르별 추천

#### 4.2 미니 플레이어
- 하단 고정
- 스테이션 이름 + 재생/일시정지
- 탭하면 전체 화면으로

#### 4.3 전체 화면 재생
- 스테이션 로고/이미지
- 스테이션 정보
- 재생 컨트롤
- 볼륨 슬라이더
- 즐겨찾기 버튼
- 공유 버튼

#### 4.4 스테이션 목록
- 그리드 또는 리스트 뷰
- 스테이션 로고 썸네일
- 스와이프 액션 (즐겨찾기, 삭제)
- Pull to refresh

### 5. 고급 기능

#### 5.1 백그라운드 재생
- 앱 최소화해도 계속 재생
- 락스크린 컨트롤 표시
- 시스템 미디어 컨트롤 통합

#### 5.2 알림
- 재생 중 알림 표시
- 재생/일시정지/다음 버튼
- 스테이션 정보 표시

#### 5.3 슬립 타이머
- 15분, 30분, 1시간, 커스텀
- 타이머 종료 시 페이드아웃
- 잔여 시간 표시

#### 5.4 메타데이터
- 현재 방송 중인 곡 정보 (지원하는 스트림)
- 방송 프로그램 정보
- 실시간 업데이트

### 6. 설정

#### 6.1 앱 설정
- **테마**: 라이트/다크/시스템 따라가기
- **언어**: 한국어/영어
- **캐시**: 캐시 크기 제한, 캐시 삭제
- **품질**: 모바일 데이터 시 저품질/고품질

#### 6.2 재생 설정
- **자동 재생**: 앱 시작 시 마지막 스테이션 재생
- **재연결**: 네트워크 복구 시 자동 재연결
- **버퍼 크기**: 작음/중간/큼

#### 6.3 알림 설정
- **알림 표시**: 켜기/끄기
- **락스크린 컨트롤**: 켜기/끄기

## 📱 화면 구성

### 화면 목록
1. **홈** (`/`) - 대시보드
2. **스테이션 목록** (`/stations`) - 모든 스테이션
3. **플레이리스트** (`/playlists`) - 플레이리스트 관리
4. **재생 화면** (`/player`) - 전체 화면 재생
5. **스테이션 추가/편집** (`/stations/[id]`) - 스테이션 상세
6. **설정** (`/settings`) - 앱 설정

### 네비게이션
- **탭 바**: 홈 / 스테이션 / 플레이리스트 / 설정
- **모달**: 재생 화면 (하단에서 슬라이드업)
- **스택**: 스테이션 상세, 플레이리스트 상세

## 🎨 UI 컴포넌트

### 공통 컴포넌트
- `StationCard` - 스테이션 카드
- `MiniPlayer` - 미니 플레이어
- `PlayerControls` - 재생 컨트롤 버튼
- `VolumeSlider` - 볼륨 슬라이더
- `SearchBar` - 검색 바
- `StationList` - 스테이션 목록
- `PlaylistCard` - 플레이리스트 카드
- `GenreChip` - 장르 태그
- `EmptyState` - 빈 상태 표시

### 아이콘
- Play/Pause/Stop
- Heart (즐겨찾기)
- Volume Up/Down/Mute
- Search
- Settings
- Add/Edit/Delete
- Share
- Timer

## 🔧 기술 구현

### 상태 관리
- **로컬 상태**: useState, useReducer
- **전역 상태**: Context API 또는 Zustand (검토 중)
- **오디오 상태**: react-native-track-player hooks

### 데이터 저장
- **AsyncStorage**: 스테이션, 플레이리스트, 설정
- **파일 캐시**: 스테이션 로고 이미지

### 네트워킹
- **스트리밍**: react-native-track-player
- **이미지**: expo-image (자동 캐싱)
- **API**: fetch (필요시 라디오 API 통합)

## 🚦 개발 우선순위

### Phase 1: MVP (최소 기능 제품)
1. ✅ 프로젝트 설정
2. 기본 오디오 재생
3. 스테이션 목록 표시
4. 스테이션 추가/삭제
5. 즐겨찾기

### Phase 2: 핵심 기능
1. 플레이리스트 관리
2. 검색/필터
3. 미니 플레이어
4. 전체 화면 재생 UI

### Phase 3: 사용성 개선
1. 백그라운드 재생
2. 알림/락스크린
3. 슬립 타이머
4. 다크모드

### Phase 4: 고급 기능
1. 메타데이터 표시
2. 플레이리스트 공유
3. 추천 시스템
4. 클라우드 동기화

## 📊 성능 목표

- **앱 시작 시간**: < 2초
- **재생 시작**: < 3초
- **UI 반응성**: 60 FPS
- **메모리 사용**: < 100MB (재생 시)
- **배터리**: 1시간 재생당 < 5% 소모

---

**Last Updated:** 2025-11-20